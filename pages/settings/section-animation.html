<section class="settings-section" id="settings-section-animation" data-settings-anchor="Animation">
        <p class="settings-section-title">Animation</p>
        <div class="settings-field">
          <div class="settings-label-row">
            <label class="settings-label" for="animation-speed-slider">Animation Speed</label>
            <button class="settings-reset-btn" type="button" data-reset-setting="animationSpeed" title="Reset animation speed">
              <span class="material-symbols-outlined" aria-hidden="true">restart_alt</span>
            </button>
          </div>
          <div class="animation-preview-box" id="animation-preview-box" aria-hidden="true">
            <button class="settings-sync-btn animation-preview-toggle" id="animation-preview-toggle" type="button" aria-pressed="false">
              <span class="material-symbols-outlined" aria-hidden="true">pause</span>
            </button>
            <div class="animation-preview-track">
              <span class="animation-preview-point animation-preview-point-a">A</span>
              <span class="animation-preview-point animation-preview-point-b">B</span>
              <span class="animation-preview-dot" id="animation-preview-dot"></span>
            </div>
          </div>
          <div class="animation-speed-wrap">
            <input class="editor-font-size-slider animation-speed-slider" id="animation-speed-slider" type="range" min="0" max="5" step="1" />
            <div class="animation-speed-labels" aria-hidden="true">
              <span>Sluggish</span>
              <span>Slow</span>
              <span>Normal</span>
              <span>Fast</span>
              <span>Hyper</span>
              <span>Off</span>
            </div>
          </div>
          <p class="field-subtext">Controls how fast UI animations play. Off turns motion off.</p>
        </div>

        <div class="settings-field">
          <div class="settings-label-row">
            <span class="settings-label">Interpolator <span class="interpolator-nerd-rating" data-tooltip="Nerd rating" aria-label="Nerd rating 1 of 3">&#129299;</span></span>
            <button class="settings-reset-btn" type="button" data-reset-setting="interpolator" title="Reset interpolator">
              <span class="material-symbols-outlined" aria-hidden="true">restart_alt</span>
            </button>
          </div>
          <div class="settings-segmented" id="interpolator-mode-group" role="tablist" aria-label="Interpolator mode">
            <button class="settings-segment-btn" id="interpolator-tab-preset" type="button" role="tab" aria-controls="interpolator-mode-preset" data-interpolator-mode="preset">Preset</button>
            <button class="settings-segment-btn" id="interpolator-tab-curve" type="button" role="tab" aria-controls="interpolator-mode-curve" data-interpolator-mode="curve">Curve <span class="experimental-pill">Experimental</span></button>
            <button class="settings-segment-btn" id="interpolator-tab-expression" type="button" role="tab" aria-controls="interpolator-mode-expression" data-interpolator-mode="expression">Expression <span class="experimental-pill">Experimental</span></button>
          </div>

          <div class="settings-interpolator-mode" id="interpolator-mode-preset" role="tabpanel" aria-labelledby="interpolator-tab-preset">
            <div class="select-wrap settings-select-wrap">
              <select class="field settings-select" id="interpolator-preset">
                <option value="default">Default (dynamic)</option>
                <option value="linear">Linear</option>
                <option value="ease-in">Ease In</option>
                <option value="ease-out">Ease Out</option>
                <option value="ease-in-out">Ease In Out</option>
                <option value="stop-motion">Stop Motion</option>
              </select>
              <span class="select-icon" aria-hidden="true"></span>
            </div>
            <p class="field-subtext">Default gives smooth motion for most interactions.</p>
          </div>

          <div class="settings-interpolator-mode" id="interpolator-mode-expression" role="tabpanel" aria-labelledby="interpolator-tab-expression" hidden>
            <label class="settings-label" for="interpolator-expression">Expression f(t)</label>
            <div class="expression-editor-layout">
              <div class="expression-editor-wrap" id="interpolator-expression-editor">
                <div
                  class="field expression-editor-input"
                  id="interpolator-expression"
                  contenteditable="true"
                  role="textbox"
                  aria-multiline="true"
                  spellcheck="false"
                  autocomplete="off"
                ></div>
              </div>
              <div class="expression-editor-side-top">
                <a
                  class="btn expression-editor-side-btn ai-special-btn"
                  id="interpolator-ask-ai-link"
                  href="https://chatgpt.com/"
                  rel="noopener noreferrer"
                  data-tooltip="Ask AI about interpolation expressions"
                  aria-label="Ask AI about interpolation expressions"
                ><span class="material-symbols-outlined" aria-hidden="true">auto_awesome</span><span>Ask</span></a>
                <a
                  class="btn expression-editor-side-btn ai-special-btn"
                  id="interpolator-explain-expression-link"
                  href="https://chatgpt.com/"
                  rel="noopener noreferrer"
                  data-tooltip="Explain current expression"
                  aria-label="Explain current expression"
                ><span class="material-symbols-outlined" aria-hidden="true">auto_awesome</span><span>Explain</span></a>
              </div>
              <div class="expression-editor-side-bottom">
                <button class="btn btn-primary expression-editor-side-btn expression-editor-save-btn" id="interpolator-expression-save" type="button">Evaluate and Save</button>
              </div>
            </div>
            <label class="append-number-wrap settings-checkbox" for="interpolator-word-wrap">
              <input type="checkbox" id="interpolator-word-wrap" checked />
              <span>Word wrap</span>
            </label>
            <p class="field-subtext">Use a <a class="settings-inline-link" href="https://mathjs.org/docs/expressions/syntax.html" target="_blank" rel="noopener noreferrer">Math.js</a> formula with <code>t</code> from 0 to 1. Example: <code>1 - pow(1 - t, 2)</code>.</p>
            <p class="field-subtext">Applies globally to modal motion, including button presses, dropdown items, and tooltips.</p>
            <p class="field-subtext field-subtext-success" id="interpolator-expression-valid" hidden>Expression is valid.</p>
            <p class="field-subtext field-subtext-error" id="interpolator-expression-error" hidden>Invalid expression.</p>
          </div>

          <div class="settings-interpolator-mode" id="interpolator-mode-curve" role="tabpanel" aria-labelledby="interpolator-tab-curve" hidden>
            <div class="curve-editor-wrap">
              <canvas class="curve-editor-canvas" id="curve-editor-canvas" width="240" height="240" aria-label="Curve preview"></canvas>
              <div class="curve-editor-controls">
                <label class="curve-editor-row">P1 X
                  <input id="interpolator-curve-p1x" type="range" min="0" max="1" step="0.01" />
                </label>
                <label class="curve-editor-row">P1 Y
                  <input id="interpolator-curve-p1y" type="range" min="0" max="1" step="0.01" />
                </label>
                <label class="curve-editor-row">P2 X
                  <input id="interpolator-curve-p2x" type="range" min="0" max="1" step="0.01" />
                </label>
                <label class="curve-editor-row">P2 Y
                  <input id="interpolator-curve-p2y" type="range" min="0" max="1" step="0.01" />
                </label>
              </div>
            </div>
            <p class="field-subtext">Drag points to shape motion. Click to add a point, and double-click a custom point to remove.</p>
          </div>
        </div>

      </section>

